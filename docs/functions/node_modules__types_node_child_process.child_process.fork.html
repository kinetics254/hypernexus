<!DOCTYPE html><html class="default" lang="en" data-base=".."><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>fork | @brainspore/hypernexus</title><meta name="description" content="Documentation for @brainspore/hypernexus"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script><script async src="../assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search"><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">@brainspore/hypernexus</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb"><li><a href="../modules.html">@brainspore/hypernexus</a></li><li><a href="../modules/node_modules__types_node_child_process.html">node_modules/@types/node/child_process</a></li><li><a href="../modules/node_modules__types_node_child_process.child_process.html">child_process</a></li><li><a href="node_modules__types_node_child_process.child_process.fork.html">fork</a></li></ul><h1>Function fork</h1></div><section class="tsd-panel"><ul class="tsd-signatures tsd-is-external"><li class="tsd-is-external"><div class="tsd-signature tsd-anchor-link"><a id="fork" class="tsd-anchor"></a><span class="tsd-kind-call-signature">fork</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">modulePath</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span> <span class="tsd-signature-symbol">|</span> <a href="../classes/node_modules__types_node_url.url.URL.html" class="tsd-signature-type tsd-kind-class">URL</a><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?:</span> <a href="../interfaces/node_modules__types_node_child_process.child_process.ForkOptions.html" class="tsd-signature-type tsd-kind-interface">ForkOptions</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <a href="../classes/node_modules__types_node_child_process.child_process.ChildProcess.html" class="tsd-signature-type tsd-kind-class">ChildProcess</a><a href="#fork" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>The <code>child_process.fork()</code> method is a special case of <a href="node_modules__types_node_child_process.child_process.spawn.html" class="tsd-kind-function">spawn</a> used specifically to spawn new Node.js processes.
Like <a href="node_modules__types_node_child_process.child_process.spawn.html" class="tsd-kind-function">spawn</a>, a <code>ChildProcess</code> object is returned. The
returned <code>ChildProcess</code> will have an additional communication channel
built-in that allows messages to be passed back and forth between the parent and
child. See <code>subprocess.send()</code> for details.</p>
<p>Keep in mind that spawned Node.js child processes are
independent of the parent with exception of the IPC communication channel
that is established between the two. Each process has its own memory, with
their own V8 instances. Because of the additional resource allocations
required, spawning a large number of child Node.js processes is not
recommended.</p>
<p>By default, <code>child_process.fork()</code> will spawn new Node.js instances using the <code>process.execPath</code> of the parent process. The <code>execPath</code> property in the <code>options</code> object allows for an alternative
execution path to be used.</p>
<p>Node.js processes launched with a custom <code>execPath</code> will communicate with the
parent process using the file descriptor (fd) identified using the
environment variable <code>NODE_CHANNEL_FD</code> on the child process.</p>
<p>Unlike the <a href="http://man7.org/linux/man-pages/man2/fork.2.html"><code>fork(2)</code></a> POSIX system call, <code>child_process.fork()</code> does not clone the
current process.</p>
<p>The <code>shell</code> option available in <a href="node_modules__types_node_child_process.child_process.spawn.html" class="tsd-kind-function">spawn</a> is not supported by <code>child_process.fork()</code> and will be ignored if set.</p>
<p>If the <code>signal</code> option is enabled, calling <code>.abort()</code> on the corresponding <code>AbortController</code> is similar to calling <code>.kill()</code> on the child process except
the error passed to the callback will be an <code>AbortError</code>:</p>
<pre><code class="js"><span class="hl-7">if</span><span class="hl-2"> (</span><span class="hl-1">process</span><span class="hl-2">.</span><span class="hl-1">argv</span><span class="hl-2">[</span><span class="hl-23">2</span><span class="hl-2">] === </span><span class="hl-4">&#39;child&#39;</span><span class="hl-2">) {</span><br/><span class="hl-2">  </span><span class="hl-3">setTimeout</span><span class="hl-2">(() </span><span class="hl-5">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-1">console</span><span class="hl-2">.</span><span class="hl-3">log</span><span class="hl-2">(</span><span class="hl-4">`Hello from </span><span class="hl-5">${</span><span class="hl-1">process</span><span class="hl-27">.</span><span class="hl-1">argv</span><span class="hl-27">[</span><span class="hl-23">2</span><span class="hl-27">]</span><span class="hl-5">}</span><span class="hl-4">!`</span><span class="hl-2">);</span><br/><span class="hl-2">  }, </span><span class="hl-23">1_000</span><span class="hl-2">);</span><br/><span class="hl-2">} </span><span class="hl-7">else</span><span class="hl-2"> {</span><br/><span class="hl-2">  </span><span class="hl-7">import</span><span class="hl-2"> { </span><span class="hl-1">fork</span><span class="hl-2"> } </span><span class="hl-7">from</span><span class="hl-2"> </span><span class="hl-4">&#39;node:child_process&#39;</span><span class="hl-2">;</span><br/><span class="hl-2">  </span><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-6">controller</span><span class="hl-2"> = </span><span class="hl-5">new</span><span class="hl-2"> </span><span class="hl-3">AbortController</span><span class="hl-2">();</span><br/><span class="hl-2">  </span><span class="hl-5">const</span><span class="hl-2"> { </span><span class="hl-6">signal</span><span class="hl-2"> } = </span><span class="hl-1">controller</span><span class="hl-2">;</span><br/><span class="hl-2">  </span><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-6">child</span><span class="hl-2"> = </span><span class="hl-3">fork</span><span class="hl-2">(</span><span class="hl-1">__filename</span><span class="hl-2">, [</span><span class="hl-4">&#39;child&#39;</span><span class="hl-2">], { </span><span class="hl-1">signal</span><span class="hl-2"> });</span><br/><span class="hl-2">  </span><span class="hl-1">child</span><span class="hl-2">.</span><span class="hl-3">on</span><span class="hl-2">(</span><span class="hl-4">&#39;error&#39;</span><span class="hl-2">, (</span><span class="hl-1">err</span><span class="hl-2">) </span><span class="hl-5">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-0">// This will be called with err being an AbortError if the controller aborts</span><br/><span class="hl-2">  });</span><br/><span class="hl-2">  </span><span class="hl-1">controller</span><span class="hl-2">.</span><span class="hl-3">abort</span><span class="hl-2">(); </span><span class="hl-0">// Stops the child process</span><br/><span class="hl-2">}</span>
</code><button type="button">Copy</button></pre>

</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">modulePath</span>: <span class="tsd-signature-type">string</span> <span class="tsd-signature-symbol">|</span> <a href="../classes/node_modules__types_node_url.url.URL.html" class="tsd-signature-type tsd-kind-class">URL</a></span><div class="tsd-comment tsd-typography"><p>The module to run in the child.</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">options</span>: <a href="../interfaces/node_modules__types_node_child_process.child_process.ForkOptions.html" class="tsd-signature-type tsd-kind-interface">ForkOptions</a></span></li></ul></div><h4 class="tsd-returns-title">Returns <a href="../classes/node_modules__types_node_child_process.child_process.ChildProcess.html" class="tsd-signature-type tsd-kind-class">ChildProcess</a></h4><div class="tsd-comment tsd-typography"><div class="tsd-tag-since"><h4 class="tsd-anchor-link"><a id="since" class="tsd-anchor"></a>Since<a href="#since" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>v0.5.0</p>
</div></div><aside class="tsd-sources"><ul><li>Defined in node_modules/@types/node/child_process.d.ts:1399</li></ul></aside></div></li><li class="tsd-is-external"><div class="tsd-signature tsd-anchor-link"><a id="fork-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">fork</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">modulePath</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span> <span class="tsd-signature-symbol">|</span> <a href="../classes/node_modules__types_node_url.url.URL.html" class="tsd-signature-type tsd-kind-class">URL</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">args</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-keyword">readonly</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?:</span> <a href="../interfaces/node_modules__types_node_child_process.child_process.ForkOptions.html" class="tsd-signature-type tsd-kind-interface">ForkOptions</a><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <a href="../classes/node_modules__types_node_child_process.child_process.ChildProcess.html" class="tsd-signature-type tsd-kind-class">ChildProcess</a><a href="#fork-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>The <code>child_process.fork()</code> method is a special case of <a href="node_modules__types_node_child_process.child_process.spawn.html" class="tsd-kind-function">spawn</a> used specifically to spawn new Node.js processes.
Like <a href="node_modules__types_node_child_process.child_process.spawn.html" class="tsd-kind-function">spawn</a>, a <code>ChildProcess</code> object is returned. The
returned <code>ChildProcess</code> will have an additional communication channel
built-in that allows messages to be passed back and forth between the parent and
child. See <code>subprocess.send()</code> for details.</p>
<p>Keep in mind that spawned Node.js child processes are
independent of the parent with exception of the IPC communication channel
that is established between the two. Each process has its own memory, with
their own V8 instances. Because of the additional resource allocations
required, spawning a large number of child Node.js processes is not
recommended.</p>
<p>By default, <code>child_process.fork()</code> will spawn new Node.js instances using the <code>process.execPath</code> of the parent process. The <code>execPath</code> property in the <code>options</code> object allows for an alternative
execution path to be used.</p>
<p>Node.js processes launched with a custom <code>execPath</code> will communicate with the
parent process using the file descriptor (fd) identified using the
environment variable <code>NODE_CHANNEL_FD</code> on the child process.</p>
<p>Unlike the <a href="http://man7.org/linux/man-pages/man2/fork.2.html"><code>fork(2)</code></a> POSIX system call, <code>child_process.fork()</code> does not clone the
current process.</p>
<p>The <code>shell</code> option available in <a href="node_modules__types_node_child_process.child_process.spawn.html" class="tsd-kind-function">spawn</a> is not supported by <code>child_process.fork()</code> and will be ignored if set.</p>
<p>If the <code>signal</code> option is enabled, calling <code>.abort()</code> on the corresponding <code>AbortController</code> is similar to calling <code>.kill()</code> on the child process except
the error passed to the callback will be an <code>AbortError</code>:</p>
<pre><code class="js"><span class="hl-7">if</span><span class="hl-2"> (</span><span class="hl-1">process</span><span class="hl-2">.</span><span class="hl-1">argv</span><span class="hl-2">[</span><span class="hl-23">2</span><span class="hl-2">] === </span><span class="hl-4">&#39;child&#39;</span><span class="hl-2">) {</span><br/><span class="hl-2">  </span><span class="hl-3">setTimeout</span><span class="hl-2">(() </span><span class="hl-5">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-1">console</span><span class="hl-2">.</span><span class="hl-3">log</span><span class="hl-2">(</span><span class="hl-4">`Hello from </span><span class="hl-5">${</span><span class="hl-1">process</span><span class="hl-27">.</span><span class="hl-1">argv</span><span class="hl-27">[</span><span class="hl-23">2</span><span class="hl-27">]</span><span class="hl-5">}</span><span class="hl-4">!`</span><span class="hl-2">);</span><br/><span class="hl-2">  }, </span><span class="hl-23">1_000</span><span class="hl-2">);</span><br/><span class="hl-2">} </span><span class="hl-7">else</span><span class="hl-2"> {</span><br/><span class="hl-2">  </span><span class="hl-7">import</span><span class="hl-2"> { </span><span class="hl-1">fork</span><span class="hl-2"> } </span><span class="hl-7">from</span><span class="hl-2"> </span><span class="hl-4">&#39;node:child_process&#39;</span><span class="hl-2">;</span><br/><span class="hl-2">  </span><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-6">controller</span><span class="hl-2"> = </span><span class="hl-5">new</span><span class="hl-2"> </span><span class="hl-3">AbortController</span><span class="hl-2">();</span><br/><span class="hl-2">  </span><span class="hl-5">const</span><span class="hl-2"> { </span><span class="hl-6">signal</span><span class="hl-2"> } = </span><span class="hl-1">controller</span><span class="hl-2">;</span><br/><span class="hl-2">  </span><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-6">child</span><span class="hl-2"> = </span><span class="hl-3">fork</span><span class="hl-2">(</span><span class="hl-1">__filename</span><span class="hl-2">, [</span><span class="hl-4">&#39;child&#39;</span><span class="hl-2">], { </span><span class="hl-1">signal</span><span class="hl-2"> });</span><br/><span class="hl-2">  </span><span class="hl-1">child</span><span class="hl-2">.</span><span class="hl-3">on</span><span class="hl-2">(</span><span class="hl-4">&#39;error&#39;</span><span class="hl-2">, (</span><span class="hl-1">err</span><span class="hl-2">) </span><span class="hl-5">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-0">// This will be called with err being an AbortError if the controller aborts</span><br/><span class="hl-2">  });</span><br/><span class="hl-2">  </span><span class="hl-1">controller</span><span class="hl-2">.</span><span class="hl-3">abort</span><span class="hl-2">(); </span><span class="hl-0">// Stops the child process</span><br/><span class="hl-2">}</span>
</code><button type="button">Copy</button></pre>

</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">modulePath</span>: <span class="tsd-signature-type">string</span> <span class="tsd-signature-symbol">|</span> <a href="../classes/node_modules__types_node_url.url.URL.html" class="tsd-signature-type tsd-kind-class">URL</a></span><div class="tsd-comment tsd-typography"><p>The module to run in the child.</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">args</span>: <span class="tsd-signature-keyword">readonly</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span></span><div class="tsd-comment tsd-typography"><p>List of string arguments.</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">options</span>: <a href="../interfaces/node_modules__types_node_child_process.child_process.ForkOptions.html" class="tsd-signature-type tsd-kind-interface">ForkOptions</a></span></li></ul></div><h4 class="tsd-returns-title">Returns <a href="../classes/node_modules__types_node_child_process.child_process.ChildProcess.html" class="tsd-signature-type tsd-kind-class">ChildProcess</a></h4><div class="tsd-comment tsd-typography"><div class="tsd-tag-since"><h4 class="tsd-anchor-link"><a id="since-1" class="tsd-anchor"></a>Since<a href="#since-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>v0.5.0</p>
</div></div><aside class="tsd-sources"><ul><li>Defined in node_modules/@types/node/child_process.d.ts:1400</li></ul></aside></div></li></ul></section></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div></div><div class="site-menu"><nav class="tsd-navigation"><a href="../modules.html">@brainspore/hypernexus</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
